(this["webpackJsonpblockchain-developer-bootcamp-final-project"]=this["webpackJsonpblockchain-developer-bootcamp-final-project"]||[]).push([[0],{115:function(e,t,n){},117:function(e,t,n){},123:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"}]')},124:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"_tokenAddress","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_from","type":"address"},{"indexed":false,"internalType":"uint256","name":"_liquidity","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_amountToken","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_amountETH","type":"uint256"}],"name":"AddLiquidity","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_from","type":"address"},{"indexed":false,"internalType":"uint256","name":"_liquidity","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_amountToken","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_amountETH","type":"uint256"}],"name":"RemoveLiquidity","type":"event"},{"inputs":[{"internalType":"uint256","name":"amountTokenDesired","type":"uint256"},{"internalType":"uint256","name":"amountTokenMin","type":"uint256"},{"internalType":"uint256","name":"amountETHMin","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"addLiquidityETH","outputs":[{"internalType":"uint256","name":"amountToken","type":"uint256"},{"internalType":"uint256","name":"amountETH","type":"uint256"},{"internalType":"uint256","name":"liquidity","type":"uint256"}],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"balances","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"usdcAmount","type":"uint256"}],"name":"getAmountsInETHToUSDC","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getWETHAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"uint256","name":"amountTokenMin","type":"uint256"},{"internalType":"uint256","name":"amountETHMin","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"removeLiquidityETH","outputs":[{"internalType":"uint256","name":"amountToken","type":"uint256"},{"internalType":"uint256","name":"amountETH","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"usdcAmount","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"swapETHForExactTokens","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"uniswapRouter","outputs":[{"internalType":"contract IUniswapV2Router01","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"stateMutability":"payable","type":"receive"}]')},126:function(e,t){},138:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(42),s=n.n(i),u=(n(115),n(5)),c=n.n(u),o=n(20),d=n(24),l=n(18),p=(n(117),n(25)),b=n(204),m=n(205),y=n(206),j=n(97),v=n(3),f=function(){var e=Object(j.a)({typography:{htmlFontSize:10}});return Object(v.jsx)(b.a,{sx:{minWidth:275,bgcolor:"#80d8ff"},children:Object(v.jsx)(m.a,{children:Object(v.jsxs)(y.a,{variant:"body2",theme:e,children:["You must connect to the site with Metamask on the Rinkeby network.",Object(v.jsx)("br",{}),"If you switch networks then refresh the website with Rinkeby selected."]})})})},h=n(207),O=n(208),x=n(194),w=n(197),T=n(199),g=n(195),A=n(203),S=n(192),k=n(123),C=n(124),D=function(){var e=Object(d.a)(c.a.mark((function e(){var t,n,a,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=H(),n=new p.a.providers.Web3Provider(window.ethereum),a=n.getSigner(),e.next=5,a.getAddress();case 5:return r=e.sent,e.next=8,t.balanceOf(r);case 8:return i=e.sent,e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(d.a)(c.a.mark((function e(){var t,n,a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new p.a.providers.Web3Provider(window.ethereum),n=t.getSigner(),e.next=4,n.getAddress();case 4:return a=e.sent,e.next=7,t.getBalance(a);case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=new p.a.providers.Web3Provider(window.ethereum).getSigner();return new p.a.Contract("0x2dD44Ad3A8fa197183CA578E87A2B89A41507F1D",C,e)},H=function(){var e=new p.a.providers.Web3Provider(window.ethereum).getSigner();return new p.a.Contract("0x4DBCdF9B62e891a7cec5A2568C3F4FAF9E8Abe2b",k,e)},U=function(e,t,n){n(Object(o.a)(Object(o.a)({},t),{},{isToastOpen:!0,toastSeverity:"success",toastMessage:e}))},P=function(e,t,n){n(Object(o.a)(Object(o.a)({},t),{},{isToastOpen:!0,toastSeverity:"error",toastMessage:e}))},L=n(200),R=n(198),q=a.forwardRef((function(e,t){return Object(v.jsx)(R.a,Object(o.a)({elevation:6,ref:t,variant:"filled"},e))}));function _(e){var t=e.alertSeverity,n=void 0===t?"success":t,a=e.alertMessage,r=void 0===a?"":a,i=e.open,s=e.setOpen,u=e.anchorOrigin,c=function(e,t){"clickaway"!==t&&s(!1)};return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(L.a,{open:i,autoHideDuration:6e3,onClose:c,anchorOrigin:u,children:Object(v.jsx)(q,{onClose:c,severity:n,sx:{width:"100%"},children:r})})})}function F(e){var t=e.usdcAmount,n=e.setUSDCAmount,r=Object(a.useState)({swapUSDCAmount:0,isToastOpen:!1,toastSeverity:"success",toastMessage:"Swapped successfully!"}),i=Object(l.a)(r,2),s=i[0],u=i[1],p=function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,r,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Number(s.swapUSDCAmount),a=E(),e.next=5,a.getAmountsInETHToUSDC(t);case 5:return r=e.sent,6e4,i=Date.now()+6e4,e.next=10,a.swapETHForExactTokens(t,i,{value:r[0]});case 10:return o=e.sent,e.next=13,o.wait();case 13:e.sent.status&&(n(),U("Swapped successfully!",s,u)),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),P("Something went wrong, try swapping a different amount!",s,u);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{children:[Object(v.jsx)(S.a,{spacing:2,direction:"row",children:Object(v.jsxs)("div",{style:{lineHeight:3.2},children:["USDC in wallet: ",t]})}),Object(v.jsxs)(S.a,{spacing:2,direction:"row",children:[Object(v.jsx)("div",{style:{lineHeight:3.2},children:"USDC amount to swap to:"}),Object(v.jsx)(g.a,{id:"outlined-basic",label:"USDC",variant:"outlined",type:"number",value:s.swapUSDCAmount,onChange:function(e){var t=e.target.value;t!==s.swapUSDCAmount&&t>=0&&u(Object(o.a)(Object(o.a)({},s),{},{swapUSDCAmount:t}))}}),Object(v.jsx)(A.a,{variant:"outlined",onClick:p,children:"Swap"})]}),Object(v.jsx)(_,{alertSeverity:s.toastSeverity,alertMessage:s.toastMessage,open:s.isToastOpen,setOpen:function(e){e!==s.isToastOpen&&u(Object(o.a)(Object(o.a)({},s),{},{isToastOpen:e}))},anchorOrigin:{vertical:"bottom",horizontal:"center"}})]})}function N(e){var t=e.usdcAmount,n=e.ethAmount,r=e.ethToUSDCRatio,i=e.updateETHAndUSDC,s=function(e){return p.a.utils.formatEther(e)},u=Object(a.useState)({usdcToAdd:1,ethToAdd:s(r),hasApproved:null,isToastOpen:!1,toastSeverity:"success",toastMessage:"Swapped successfully!"}),b=Object(l.a)(u,2),m=b[0],y=b[1];Object(a.useEffect)((function(){if(null==m.hasApproved){function e(){return(e=Object(d.a)(c.a.mark((function e(){var t,n,a,r,i,s,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=E(),n=H(),a=new p.a.providers.Web3Provider(window.ethereum),r=a.getSigner(),e.next=6,r.getAddress();case 6:return i=e.sent,e.next=9,n.allowance(i,t.address);case 9:s=e.sent,u=0!==Number(s),y(Object(o.a)(Object(o.a)({},m),{},{hasApproved:u}));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}}));var j=function(){var e=Object(d.a)(c.a.mark((function e(){var t,n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=E(),n=H(),e.next=5,n.approve(t.address,p.a.constants.MaxInt256);case 5:return a=e.sent,e.next=8,a.wait();case 8:e.sent.status&&(y(Object(o.a)(Object(o.a)({},m),{},{hasApproved:!0})),U("Approve successful!",m,y)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),P("Approve failed!",m,y);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(d.a)(c.a.mark((function e(){var t,n,a,r,s,u,o,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=m.usdcToAdd,n=.95,a=E(),e.next=6,a.getAmountsInETHToUSDC(t);case 6:return r=e.sent,s=new p.a.providers.Web3Provider(window.ethereum),e.next=10,s.getBlockNumber();case 10:return u=e.sent,e.next=13,s.getBlock(u);case 13:return o=e.sent,e.next=16,a.addLiquidityETH(t,Math.round(t*n),1,o.timestamp+50,{value:r[0]});case 16:return d=e.sent,e.next=19,d.wait();case 19:e.sent.status&&(i(),U("Add liquidity succeeded!",m,y)),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(0),P("Add liquidity failed! Try a different amount.",m,y);case 26:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{children:[Object(v.jsxs)(S.a,{spacing:2,direction:"row",children:[Object(v.jsxs)("div",{style:{lineHeight:3.2},children:["USDC in wallet: ",t]}),Object(v.jsxs)("div",{style:{lineHeight:3.2},children:["ETH in wallet: ",s(n)]})]}),Object(v.jsxs)(S.a,{spacing:2,direction:"row",children:[Object(v.jsx)("div",{style:{lineHeight:3.2},children:"USDC amount:"}),Object(v.jsx)(g.a,{id:"outlined-basic",label:"USDC",variant:"outlined",type:"number",value:m.usdcToAdd,onChange:function(e){var n=e.target.value;if(n!==m.usdcToAdd&&n<=t&&n>=0){var a=n*r;y(Object(o.a)(Object(o.a)({},m),{},{usdcToAdd:Number(n),ethToAdd:s(a)}))}}}),Object(v.jsx)("div",{style:{lineHeight:3.2},children:"ETH amount:"}),Object(v.jsx)(g.a,{id:"outlined-basic",label:"ETH",variant:"outlined",type:"number",value:m.ethToAdd,disabled:!0}),Object(v.jsx)(A.a,{variant:"outlined",onClick:j,disabled:m.hasApproved,children:"Approve"}),Object(v.jsx)(A.a,{variant:"outlined",onClick:f,disabled:!m.hasApproved,children:"Add liquidity"})]}),Object(v.jsx)(_,{alertSeverity:m.toastSeverity,alertMessage:m.toastMessage,open:m.isToastOpen,setOpen:function(e){e!==m.isToastOpen&&y(Object(o.a)(Object(o.a)({},m),{},{isToastOpen:e}))},anchorOrigin:{vertical:"bottom",horizontal:"center"}})]})}function I(e){var t=e.usdcAmount,n=e.ethAmount,r=e.updateETHAndUSDC,i=Object(a.useState)({balanceLP:null,amountLPToRemove:0,isToastOpen:!1,toastSeverity:"success",toastMessage:"Swapped successfully!"}),s=Object(l.a)(i,2),u=s[0],b=s[1],m=function(){var e=Object(d.a)(c.a.mark((function e(){var t,n,a,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=E(),n=new p.a.providers.Web3Provider(window.ethereum),a=n.getSigner(),e.next=5,a.getAddress();case 5:return r=e.sent,e.t0=Number,e.next=9,t.balances(r);case 9:e.t1=e.sent,i=(0,e.t0)(e.t1),b(Object(o.a)(Object(o.a)({},u),{},{balanceLP:i}));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){null==u.balanceLP&&m()}));var y,j=function(){var e=Object(d.a)(c.a.mark((function e(){var t,n,a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=u.amountLPToRemove,6e4,n=Date.now()+6e4,a=E(),e.next=7,a.removeLiquidityETH(t,0,0,n);case 7:return i=e.sent,e.next=10,i.wait();case 10:e.sent.status&&(r(),m(),U("Remove liquidity succeeded!",u,b)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),P("Remove liquidity failed! Try a different amount.",u,b);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{children:[Object(v.jsxs)(S.a,{spacing:2,direction:"row",children:[Object(v.jsxs)("div",{style:{lineHeight:3.2},children:["USDC in wallet: ",t]}),Object(v.jsxs)("div",{style:{lineHeight:3.2},children:["ETH in wallet: ",(y=n,p.a.utils.formatEther(y))]}),Object(v.jsxs)("div",{style:{lineHeight:3.2},children:["Amount of LP: ",u.balanceLP]})]}),Object(v.jsxs)(S.a,{spacing:2,direction:"row",children:[Object(v.jsx)("div",{style:{lineHeight:3.2},children:"Amount of LP to remove:"}),Object(v.jsx)(g.a,{id:"outlined-basic",label:"LP to remove",variant:"outlined",type:"number",value:u.amountLPToRemove,onChange:function(e){var t=e.target.value;t!==u.amountLPToRemove&&t<=u.balanceLP&&t>=0&&b(Object(o.a)(Object(o.a)({},u),{},{amountLPToRemove:t}))}}),Object(v.jsx)(A.a,{variant:"outlined",onClick:j,disabled:0===u.balanceLP,children:"Remove liquidity"})]}),Object(v.jsx)(_,{alertSeverity:u.toastSeverity,alertMessage:u.toastMessage,open:u.isToastOpen,setOpen:function(e){e!==u.isToastOpen&&b(Object(o.a)(Object(o.a)({},u),{},{isToastOpen:e}))},anchorOrigin:{vertical:"bottom",horizontal:"center"}})]})}function W(){var e=Object(a.useState)({tab:"1",usdcAmount:null,ethAmount:null,ethToUSDCRatio:null}),t=Object(l.a)(e,2),n=t[0],r=t[1],i=function(){var e=Object(d.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:return t=e.sent,e.next=5,M();case 5:a=e.sent,r(Object(o.a)(Object(o.a)({},n),{},{usdcAmount:Number(t),ethAmount:a}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){if(null==n.usdcAmount){function e(){return(e=Object(d.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:t=e.sent,r(Object(o.a)(Object(o.a)({},n),{},{usdcAmount:Number(t)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}if(null==n.ethAmount){function t(){return(t=Object(d.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:t=e.sent,p.a.utils.formatEther(t),r(Object(o.a)(Object(o.a)({},n),{},{ethAmount:t}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}if(null==n.ethToUSDCRatio){function a(){return(a=Object(d.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 1,t=E(),e.next=4,t.getAmountsInETHToUSDC(1);case 4:a=e.sent,r(Object(o.a)(Object(o.a)({},n),{},{ethToUSDCRatio:Number(a[0])}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){a.apply(this,arguments)}()}}));var s=function(){var e=Object(d.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:t=e.sent,r(Object(o.a)(Object(o.a)({},n),{},{usdcAmount:Number(t)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsx)(h.a,{sx:{typography:"body1",bgcolor:"#80d8ff"},children:Object(v.jsxs)(x.a,{value:n.tab,children:[Object(v.jsx)(h.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(v.jsxs)(w.a,{onChange:function(e,t){r(Object(o.a)(Object(o.a)({},n),{},{tab:t}))},centered:!0,children:[Object(v.jsx)(O.a,{label:"Swap",value:"1"}),Object(v.jsx)(O.a,{label:"Add liquidity",value:"2"}),Object(v.jsx)(O.a,{label:"Remove liquidity",value:"3"})]})}),Object(v.jsx)(T.a,{value:"1",children:Object(v.jsx)(F,{usdcAmount:n.usdcAmount,setUSDCAmount:s})}),Object(v.jsx)(T.a,{value:"2",children:Object(v.jsx)(N,{usdcAmount:n.usdcAmount,ethAmount:n.ethAmount,setUSDCAmount:s,ethToUSDCRatio:n.ethToUSDCRatio,updateETHAndUSDC:i})}),Object(v.jsx)(T.a,{value:"3",children:Object(v.jsx)(I,{usdcAmount:n.usdcAmount,ethAmount:n.ethAmount,updateETHAndUSDC:i})})]})})}var B=n(202);var z=function(){var e=Object(a.useState)({isMetaMaskDetected:!1}),t=Object(l.a)(e,2),n=t[0],r=t[1];Object(a.useEffect)((function(){i()}));var i=function(){var e=Object(d.a)(c.a.mark((function e(){var t,a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.isMetaMaskDetected){e.next=14;break}return e.prev=1,e.next=4,window.ethereum.enable();case 4:return t=new p.a.providers.Web3Provider(window.ethereum),a=t.getSigner(),e.next=8,t.getNetwork();case 8:i=e.sent,a&&i&&4===i.chainId&&r(Object(o.a)(Object(o.a)({},n),{},{isMetaMaskDetected:!0})),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(1);case 14:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();return Object(v.jsx)("div",{className:"App",children:Object(v.jsx)(B.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",style:{minHeight:"100vh"},children:Object(v.jsx)(B.a,{item:!0,xs:3,children:n.isMetaMaskDetected?Object(v.jsx)(W,{}):Object(v.jsx)(f,{})})})})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,210)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),i(e),s(e)}))};s.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(z,{})}),document.getElementById("root")),J()}},[[138,1,2]]]);
//# sourceMappingURL=main.829b1832.chunk.js.map